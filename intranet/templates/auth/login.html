{% extends "page_base.html" %}
{% load staticfiles %}

{% block title %}
    {{ block.super }} - Login
{% endblock %}

{% block css %}
    {{ block.super }}
    <link rel="stylesheet" type="text/css" href="{% static 'css/login.css' %}">
{% endblock %}

{% block js %}
    <script type='text/javascript'>
        $(document).ready(function() {
            $('input[name=username]').focus();
            $('input').each(function() {
                empty_text = 'This field is required.';
                if($(this).attr('value') == empty_text) {
                    $(this).addClass('empty');
                    $(this).attr('value', '');
                    $(this).attr('placeholder', empty_text);
                }
            })
        });
    </script>
{% endblock %}

{% block body %}
    <h1>TJ Intranet - Login</h1>
    <div class='login'>
        <p>Enter your username and password to log in:</p>
        {% if auth_form.errors %}
            <p class='error'>Invalid username or password</p>
        {% endif %}

        <form action='/login{% if request.GET.next %}?next={{ request.GET.next }}{% endif %}' method='post'>
            {% csrf_token %}
            {% for field in auth_form %}
                {{ field }}
            {% endfor %}
            <input type='submit' value='Login' />
        </form>
    </div>
{% endblock %}